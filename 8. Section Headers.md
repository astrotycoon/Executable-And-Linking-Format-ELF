# Section Headers 节头表

An object file's section header table lets one locate all the file's sections. The section header table is an array of ***Elf32_Shdr*** or ***Elf64_Shdr*** structures as described below. A section header table index is a subscript into this array. The ELF header's `e_shoff` member gives the byte offset from the beginning of the file to the section header table. `e_shnum` normally tells how many entries the section header table contains. `e_shentsize` gives the size in bytes of each entry.

通过ELF文件中的节头表（section header table），我们就可以轻松地定位文件中所有的节。节头表是类型***Elf32_Shdr***或者类型***Elf64_Shdr***的数组。节头表索引（section header table index）是用来定位节头表的表项的。ELF文件头中的`e_shoff`代表的是节头表在文件中的偏移值；`e_shnum`代表的是节头表的表项总数；`e_shentsize`代表的是节头表的表项大小。

If the number of sections is greater than or equal to **SHN_LORESERVE** (0xff00), `e_shnum` has the value **SHN_UNDEF** (0) and the actual number of section header table entries is contained in the `sh_size` field of the section header at index **0** (otherwise, the `sh_size` member of the initial entry contains 0).

如果节头表的表项个数大于或者等于**SHN_LORESERVE**（0xff00）的话，成员`e_shnum`的值为**SHN_UNDEF**（0），那么真正的节头表表项个数存储在节头表中第一表项（节头表索引值为0）中的成员`sh_size`里（否则，一般情况下，第一表项的成员`sh_size`的值为0）。

Some section header table indexes are **reserved** in contexts where index size is restricted, for example, the `st_shndx` member of a symbol table entry and the `e_shnum` and `e_shstrndx` members of the ELF header. In such contexts, the reserved values do not represent actual sections in the object file. Also in such contexts, an escape value indicates that the actual section index is to be found elsewhere, in a larger field.

需要注意的是，有一些特殊的节头表索引值是**预留**的，这些预留值可能会被符号表表项成员`st_shndx`和ELF文件头成员`e_shnum`和`e_shstrndx`使用到。

**Figure 4-7: Special Section Indexes**
**Name**|	**Value**|	**Meaning**|
|:-|:-:|:-|
SHN_UNDEF       |0               |Undefined section
SHN_LORESERVE   |0xff00          |Start of reserved indices
SHN_LOPROC      |0xff00          |Start of processor-specific
SHN_BEFORE      |0xff00          |Order section before all others (Solaris).
SHN_AFTER       |0xff01          |Order section after all others  (Solaris).
SHN_HIPROC      |0xff1f          |End of processor-specific
SHN_LOOS        |0xff20          |Start of OS-specific
SHN_HIOS        |0xff3f          |End of OS-specific
SHN_ABS         |0xfff1          |Associated symbol is absolute
SHN_COMMON      |0xfff2          |Associated symbol is common
SHN_XINDEX      |0xffff          |Index is in extra table.
SHN_HIRESERVE   |0xffff          |End of reserved indices


